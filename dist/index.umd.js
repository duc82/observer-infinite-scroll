(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("react")):typeof define=="function"&&define.amd?define(["react"],r):(e=typeof globalThis<"u"?globalThis:e||self,e["react-infinite-scroll"]=r(e.React))})(this,function(e){"use strict";return({fetchMore:u,hasMore:o,loader:v=e.createElement("p",null,"Loading..."),endMessage:H=e.createElement("p",null,"No more items to load."),threshold:d=.8,position:n="bottom",className:b,style:E,children:l})=>{const[c,m]=e.useState(!1),p=e.useRef(null),f=e.useRef(null),[a,w]=e.useState(0);return e.useEffect(()=>{const t=p.current;if(!t||c||!o)return;const s=new IntersectionObserver(async g=>{var i;if(g[0].isIntersecting){m(!0);const S=u();S instanceof Promise&&await S,m(!1),n==="top"&&w(((i=f.current)==null?void 0:i.scrollHeight)||0)}},{threshold:d});return s.observe(t),()=>{s.unobserve(t)}},[o,c,u,d,n]),e.useEffect(()=>{const t=f.current;if(!t||n!=="top")return;const s=a,i=t.scrollHeight-s;t.scrollTop=i},[n,l,a]),e.createElement("div",{ref:f,style:E,className:b},n==="bottom"&&l,e.createElement("div",{ref:p},o&&c&&v,!o&&H),n==="top"&&l)}});
//# sourceMappingURL=index.umd.js.map
