(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("react")):typeof define=="function"&&define.amd?define(["react"],o):(e=typeof globalThis<"u"?globalThis:e||self,e["react-infinite-scroll"]=o(e.React))})(this,function(e){"use strict";return e.forwardRef(({fetchMore:p,hasMore:l,loader:v=e.createElement("p",null,"Loading..."),endMessage:T=e.createElement("p",null,"No more items to load."),options:d={rootMargin:"100px 0px 100px 0"},position:t="bottom",className:H,style:S,children:a},b)=>{const[i,m]=e.useState(!1),g=e.useRef(null),n=e.useRef(null),[u,E]=e.useState({scrollHeight:0,scrollTop:0});return e.useEffect(()=>{const r=g.current;if(!r||i||!l)return;const s=new IntersectionObserver(async f=>{if(f[0].isIntersecting){m(!0);const c=p();c instanceof Promise&&await c,m(!1),t==="top"&&n.current&&E({scrollHeight:n.current.scrollHeight,scrollTop:n.current.scrollTop})}},d);return s.observe(r),()=>{s.unobserve(r)}},[l,i,p,d,t]),e.useLayoutEffect(()=>{const r=n.current;if(!r||t!=="top")return;const s=u.scrollHeight,f=u.scrollTop,c=r.scrollHeight,I=f+(c-s);r.scrollTop=I},[t,u]),e.useImperativeHandle(b,()=>n.current,[]),e.createElement("div",{ref:n,style:S,className:H},t==="bottom"&&a,e.createElement("div",{ref:g},l&&i&&v,!l&&T),t==="top"&&a)})});
//# sourceMappingURL=index.umd.js.map
