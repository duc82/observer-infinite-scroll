(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("react")):typeof define=="function"&&define.amd?define(["react"],o):(e=typeof globalThis<"u"?globalThis:e||self,e["react-infinite-scroll"]=o(e.React))})(this,function(e){"use strict";return e.forwardRef(({fetchMore:f,hasMore:c,loader:g=e.createElement("p",null,"Loading..."),endMessage:T=e.createElement("p",null,"No more items to load."),options:d,position:t="bottom",className:H,style:S,children:p},b)=>{const[a,m]=e.useState(!1),v=e.useRef(null),n=e.useRef(null),[i,h]=e.useState({scrollHeight:0,scrollTop:0});return e.useEffect(()=>{const r=v.current;if(!r||a||!c)return;const l=new IntersectionObserver(async u=>{if(u[0].isIntersecting){m(!0);const s=f();s instanceof Promise&&await s,m(!1),t==="top"&&n.current&&h({scrollHeight:n.current.scrollHeight,scrollTop:n.current.scrollTop})}},d);return l.observe(r),()=>{l.unobserve(r)}},[c,a,f,d,t]),e.useLayoutEffect(()=>{const r=n.current;if(!r||t!=="top")return;const l=i.scrollHeight,u=i.scrollTop,s=r.scrollHeight,E=u+(s-l);r.scrollTop=E},[t,i]),e.useImperativeHandle(b,()=>n.current,[]),e.createElement("div",{ref:n,style:S,className:H},t==="bottom"&&p,e.createElement("div",{ref:v},c?g:T),t==="top"&&p)})});
//# sourceMappingURL=index.umd.js.map
