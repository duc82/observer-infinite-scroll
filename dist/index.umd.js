(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("react")):typeof define=="function"&&define.amd?define(["react"],r):(e=typeof globalThis<"u"?globalThis:e||self,e["react-infinite-scroll"]=r(e.React))})(this,function(e){"use strict";return({fetchMore:f,hasMore:o,dataLength:S,loader:v=e.createElement("p",null,"Loading..."),endMessage:H=e.createElement("p",null,"No more items to load."),threshold:u=.8,position:n="bottom",className:b,style:E,children:d})=>{const[s,m]=e.useState(!1),p=e.useRef(null),c=e.useRef(null),[w,I]=e.useState(0);return e.useEffect(()=>{let t=p.current;if(!t||s||!o)return;const i=new IntersectionObserver(async a=>{var l;if(a[0].isIntersecting){m(!0);const g=f();g instanceof Promise&&await g,m(!1),I(((l=c.current)==null?void 0:l.scrollHeight)||0)}},{threshold:u});return i.observe(t),()=>{i.unobserve(t)}},[o,s,f,u,n]),e.useEffect(()=>{const t=c.current;if(!t||n!=="top")return;const i=w,l=t.scrollHeight-i;t.scrollTop=l},[n,S]),e.createElement("div",{ref:c,style:E,className:b},n==="bottom"&&d,e.createElement("div",{ref:p},o&&s&&v,!o&&H),n==="top"&&d)}});
//# sourceMappingURL=index.umd.js.map
